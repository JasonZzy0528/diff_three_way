!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.diff_three_way=n():t.diff_three_way=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=22)}([function(t,n){var e=Array.isArray;t.exports=e},function(t,n){function e(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}t.exports=e},function(t,n){function e(t){return t}t.exports=e},function(t,n,e){function r(t){return null==t?void 0===t?f:s:h&&h in Object(t)?a(t):o(t)}var i=e(6),a=e(28),o=e(29),s="[object Null]",f="[object Undefined]",h=i?i.toStringTag:void 0;t.exports=r},function(t,n){function e(t){return null!=t&&"object"==typeof t}t.exports=e},function(t,n,e){function r(t){return null!=t&&a(t.length)&&!i(t)}var i=e(13),a=e(15);t.exports=r},function(t,n,e){var r=e(7),i=r.Symbol;t.exports=i},function(t,n,e){var r=e(9),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();t.exports=a},function(t,n){function e(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}t.exports=e},function(t,n,e){(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;t.exports=e}).call(n,e(26))},function(t,n,e){var r=e(27),i=e(4),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,f=r(function(){return arguments}())?r:function(t){return i(t)&&o.call(t,"callee")&&!s.call(t,"callee")};t.exports=f},function(t,n,e){function r(t,n,e){"__proto__"==n&&i?i(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}var i=e(12);t.exports=r},function(t,n,e){var r=e(35),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,n,e){function r(t){if(!a(t))return!1;var n=i(t);return n==s||n==f||n==o||n==h}var i=e(3),a=e(1),o="[object AsyncFunction]",s="[object Function]",f="[object GeneratorFunction]",h="[object Proxy]";t.exports=r},function(t,n){function e(t,n){return t===n||t!==t&&n!==n}t.exports=e},function(t,n){function e(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=e},function(t,n){function e(t,n){return!!(n=null==n?r:n)&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<n}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=e},function(t,n,e){function r(t,n){var e=o(t),r=!e&&a(t),u=!e&&!r&&s(t),c=!e&&!r&&!u&&h(t),g=e||r||u||c,p=g?i(t.length,String):[],d=p.length;for(var v in t)!n&&!l.call(t,v)||g&&("length"==v||u&&("offset"==v||"parent"==v)||c&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||f(v,d))||p.push(v);return p}var i=e(51),a=e(10),o=e(0),s=e(52),f=e(16),h=e(54),u=Object.prototype,l=u.hasOwnProperty;t.exports=r},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n){function e(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||r)}var r=Object.prototype;t.exports=e},function(t,n,e){function r(t){return"symbol"==typeof t||a(t)&&i(t)==o}var i=e(3),a=e(4),o="[object Symbol]";t.exports=r},function(t,n,e){function r(t,n,e){for(var r=-1,a=t.length;++r<a;){var o=t[r],s=n(o);if(null!=s&&(void 0===f?s===s&&!i(s):e(s,f)))var f=s,h=o}return h}var i=e(20);t.exports=r},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),s=e(23),f=r(s),h=e(31),u=r(h),l=e(60),c=r(l),g=e(72),p=r(g),d=e(0),v=r(d),b=e(80),y=r(b),_=e(82),x=r(_),m=e(84),j=r(m);r(e(85)).default.enableArrayEquals();var w=function(){function t(n){i(this,t),this.diffMatchPatch=new j.default,this.content=n,this.newContent=void 0,this.patches=[],this.loadPatches=this.loadPatches.bind(this),this.applyPatch=this.applyPatch.bind(this),this.setContent=this.setContent.bind(this),this.getContent=this.getContent.bind(this),this.threeWayMerge=this.threeWayMerge.bind(this),this.updatePatches=this.updatePatches.bind(this)}return o(t,[{key:"loadPatches",value:function(t){this.patches=(0,f.default)([],t)}},{key:"addPatch",value:function(t){this.patches.push([t,!0])}},{key:"applyPatch",value:function(t,n){var e=this.content,r=t.patchObj,i=t.id,a=t.isApplied,o=t.isUpdated;if(a)throw new Error("The patch cannot be applied, because it was applied before");if(!o)throw new Error("The patch cannot be applied, because it has conflict");if(void 0===i||null===i)throw new Error("id cannot be undefined or null");if((0,c.default)(r,function(t){var n=t.diffs,r=t.start1,i=t.length1,a="";(0,c.default)(n,function(t){-1!==t[0]&&(a+=t[1])}),e=e.substring(0,r)+a+e.substring(r+i,e.length)}),n)return e;this.newContent=e,this.updatePatches(t)}},{key:"updatePatches",value:function(t){var n=this,e=(0,f.default)([],this.patches),r=t.patchObj,i=t.id;if(0===r.length)throw new Error("patchObj cannot be empty");var a=this.content,o=this.newContent,s=[];(0,c.default)(e,function(t){var e=t.id;if(e===i)t.isApplied=!0,t.isUpdated=!0,s.push(t);else{var h=t.isApplied,u=t.isUpdated;if(h||!u)s.push(t);else{var l=t.patchObj,g=l[0].start1,p=l[l.length-1].start1+l[l.length-1].length1,d=r[0].start1,v=r[r.length-1].start1+r[r.length-1].length1;if(g>v){var b=0;(0,c.default)(r,function(t){b+=t.length2-t.length1}),(0,c.default)(l,function(n,e){t.patchObj[e].start1+=b,t.patchObj[e].start2+=b}),s.push(t)}else if(p<d)s.push(t);else try{var y=n.threeWayMerge(a,r,l),_=y[0],x=0,m=0;(0,c.default)(r,function(t){if(t.start1+t.length1<=g+x)x+=t.length2-t.length1,m+=t.length2-t.length1;else if(t.start1<=g+x){var n=0;(0,c.default)(t.diffs,function(e){var r=e[0],i=e[1];t.start1+n<=g+x?(x+=r*i.length,m+=r*i.length):(g+x-t.start1-n+i.length>=0&&(x+=r*(g+x-t.start1-n+i.length)),t.start1+n<=p+m?m+=r*i.length:t.start1+n-i.length<=p+m&&(m+=r*(p+m-t.start1-n+i.length))),n+=i.length})}else if(t.start1>g&&t.start1+t.length1<=p){var e=void 0;(0,c.default)(t.diffs,function(n){var r=n[0],i=n[1];t.start1+e<=p+m?m+=r*i.length:t.start1+e-i.length<=p+m&&(m+=r*(p+m-t.start1-e+i.length)),e+=i.length})}});var j=t.patchObj[0].start1+x,w=t.patchObj[t.patchObj.length-1].start1+t.patchObj[t.patchObj.length-1].length1+m,M=n.diffMatchPatch.patch_make(o,_),O=[],A=0;(0,c.default)(M,function(t,n){if(!(t.start1>w||t.start1+t.length1<j)){if(t.start1<=j){if(t.start1+t.length1<j)return;var e=0;(0,c.default)(t.diffs,function(n){var r=n[0],i=n[1];0===r?(i.length+t.start1+e>j&&i.length+t.start1+e<=w?O.push([r,i.substring(j-t.start1-e,i.length)]):i.length+t.start1+e>=j&&i.length+t.start1+e>=w&&t.start1+e<w&&O.push([r,i.substring(i.length+t.start1+e-j,w-t.start1-e)]),e+=i.length):t.start1+e<=w&&(O.push(n),A+=r*i.length)})}else if(t.start1>=j){if(t.start1>w)return;if(t.start1+t.length1>=w)if(0===n){O.push([0,o.substring(j,t.start1)]);var r=0;(0,c.default)(t.diffs,function(n){var e=n[0],i=n[1];0===e?(i.length+t.start1+r>w&&O.push([e,i.substring(0,w-t.start1-r)]),r+=i.length):t.start1+r<w&&(O.push(n),A+=e*i.length)})}else{var i=0;(0,c.default)(t.diffs,function(n){var e=n[0],r=n[1];0===e?(r.length+t.start1+i>w?O.push([e,r.substring(0,w-t.start1-i)]):O.push(n),i+=r.length):t.start1+i<w&&(O.push(n),A+=e*r.length)})}else 0===n&&O.push([0,o.substring(j,t.start1)]),O=(0,f.default)(O,t.diffs)}n===M.length-1&&t.start1+t.length1<=w&&O.push([0,o.substring(t.start1+t.length1,w)])}});var P=[{diffs:O,start1:j,start2:j,length1:w-j,length2:w-j+A}],k={patchObj:P,id:e,isApplied:!1,isUpdated:!0};s.push(k)}catch(n){console.log(n),t.isUpdated=!1,s.push(t)}}}}),this.patches=s,this.setContent(o),this.newContent=void 0}},{key:"threeWayMerge",value:function(t,n,e){var r=t.length,i=[],a=[],o=0,s=0;(0,c.default)(n,function(t){var n=t.start1,e=t.length1,r=t.length2;i.push(n-o),0===n?i.push(n-o+e-1):i.push(n-o+e),o+=r-e}),(0,c.default)(e,function(t){var n=t.start1,e=t.length1,r=t.length2;a.push(n-s),0===n?a.push(n-s+e-1):a.push(n-s+e),s+=r-e});var f=(0,x.default)([(0,x.default)(i),(0,x.default)(a)]),h=(0,y.default)([(0,y.default)(i),(0,y.default)(a)]);if(h>=r)throw new Error("incorrect patch");for(var u=t.substring(f,h),l=this.genDiffLoop(0,u),g=this.genOptDiff(i,n,t,f,h),p=this.genOptDiff(a,e,t,f,h),d=!0,v=0,b=[],_=!0;d;){var m=l[v],j=g[v],w=p[v],M=void 0;if(m||j||w){var O=void 0;if(m&&j&&w?m.equals(j)?(O=w,M="three"):m.equals(w)?(O=j,M="two"):j.equals(w)&&(O=j,M="both"):j&&!w?(O=j,M="two"):!j&&w&&(O=w,M="three"),void 0===O)throw new Error("Conflict at position ",v);var A=O[0];if(1==A){var P=0==v?0:v-1;"two"==M?(l.splice(P,0,O),p.splice(P,0,O)):"three"==M?(l.splice(P,0,O),g.splice(P,0,O)):l.splice(P,0,O)}else-1==A&&("two"==M?(l.splice(v,1,O),p.splice(v,1,O)):"three"==M?(l.splice(v,1,O),g.splice(v,1,O)):l.splice(v,1,O));b.push(O)}d=0!=d&&(l[v+1]||g[v+1]||p[v+1]),v++}var k=this.diffMatchPatch.patch_make(b),S=this.diffMatchPatch.patch_apply(k,u);if(!(_=this.isPatchApplied(S[1])))throw new Error("Conflict happened");return[t.substring(0,f)+S[0]+t.substring(h,r),_]}},{key:"isPatchApplied",value:function(t){return-1===(0,p.default)(t,!1)}},{key:"updateContent",value:function(t){this.content=t}},{key:"getPatches",value:function(){return(0,f.default)([],this.patches)}},{key:"getContent",value:function(){return this.content}},{key:"setContent",value:function(t){var n=void 0===t?"undefined":a(t);if("string"===n)return void(this.content=t);throw new TypeError("String expected, but got "+n)}},{key:"createPatch",value:function(t){var n=this,e=void 0===t?"undefined":a(t);if("object"===e&&!(0,v.default)(t)){var r=t.id,i=t.text1,o=t.text2;return{patchObj:this.diffMatchPatch.patch_make(i,o),id:r,isUpdated:!0,isApplied:!1}}if("object"===e){var s={patchObj:[],id:t[0].id,isUpdated:!0,isApplied:!1},f=0;return(0,c.default)(t,function(t,e){var r=t.start,i=t.orgChars,o=t.newChars,h=0,u=[void 0===r?"undefined":a(r),void 0===i?"undefined":a(i),void 0===o?"undefined":a(o)],l=void 0;if("number"!==u[0]&&(l="Number expected, but got "+u[0]),"string"!==u[1]&&(l="String expected, but got "+u[1]),"string"!==u[2]&&(l="String expected, but got "+u[2]),l)throw new TypeError(l);var g=n.diffMatchPatch.diff_main(i,o);(0,c.default)(g,function(t){var n=t[0],e=t[1].length;h+=n*e});var p=i.length,d=o.length,v={};v=0===e?{diffs:g,start1:r,start2:r,length1:p,length2:d}:{diffs:g,start1:r+f,start2:r+f,length1:p,length2:d},s.patchObj.push(v),f+=h}),s}throw new TypeError("String expected, but got "+e)}},{key:"genOptDiff",value:function(t,n,e,r,i){var a=this,o=[];return(0,c.default)(t,function(s,h){if(h%2!=0){var u=n[Math.floor(h/2)];(0,c.default)(u.diffs,function(t){var n=t[0],e=t[1],r=[];e.length>1?r=a.genDiffLoop(n,e):r.push(t),o=(0,f.default)(o,r)})}else{var l=0===h?r:t[h-1];if(s>l){var g=e.substring(l,s),p=a.genDiffLoop(0,g);o=(0,f.default)(o,p)}}if(h===t.length-1&&s!==i){var d=e.substring(s,i),v=a.genDiffLoop(0,d);o=(0,f.default)(o,v)}}),o}},{key:"genDiffLoop",value:function(t,n){var e=[];return(0,c.default)(n,function(n){e.push([t,n])}),e}},{key:"patchToText",value:function(t){var n=t.patchObj,e=this.diffMatchPatch.patch_toText(n),r=(0,u.default)({},t,{patchObj:e});return JSON.stringify(r)}},{key:"patchFromText",value:function(t){var n=JSON.parse(t),e=this.diffMatchPatch.patch_fromText(n.patchObj);return(0,u.default)({},n,{patchObj:e})}}]),t}();n.default=w},function(t,n,e){function r(){var t=arguments.length;if(!t)return[];for(var n=Array(t-1),e=arguments[0],r=t;r--;)n[r-1]=arguments[r];return i(s(e)?o(e):[e],a(n,1))}var i=e(8),a=e(24),o=e(30),s=e(0);t.exports=r},function(t,n,e){function r(t,n,e,o,s){var f=-1,h=t.length;for(e||(e=a),s||(s=[]);++f<h;){var u=t[f];n>0&&e(u)?n>1?r(u,n-1,e,o,s):i(s,u):o||(s[s.length]=u)}return s}var i=e(8),a=e(25);t.exports=r},function(t,n,e){function r(t){return o(t)||a(t)||!!(s&&t&&t[s])}var i=e(6),a=e(10),o=e(0),s=i?i.isConcatSpreadable:void 0;t.exports=r},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){function r(t){return a(t)&&i(t)==o}var i=e(3),a=e(4),o="[object Arguments]";t.exports=r},function(t,n,e){function r(t){var n=o.call(t,f),e=t[f];try{t[f]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(n?t[f]=e:delete t[f]),i}var i=e(6),a=Object.prototype,o=a.hasOwnProperty,s=a.toString,f=i?i.toStringTag:void 0;t.exports=r},function(t,n){function e(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=e},function(t,n){function e(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}t.exports=e},function(t,n,e){t.exports=e(32)},function(t,n,e){var r=e(33),i=e(41),a=e(50),o=i(function(t,n){r(n,a(n),t)});t.exports=o},function(t,n,e){function r(t,n,e,r){var o=!e;e||(e={});for(var s=-1,f=n.length;++s<f;){var h=n[s],u=r?r(e[h],t[h],h,e,t):void 0;void 0===u&&(u=t[h]),o?a(e,h,u):i(e,h,u)}return e}var i=e(34),a=e(11);t.exports=r},function(t,n,e){function r(t,n,e){var r=t[n];s.call(t,n)&&a(r,e)&&(void 0!==e||n in t)||i(t,n,e)}var i=e(11),a=e(14),o=Object.prototype,s=o.hasOwnProperty;t.exports=r},function(t,n,e){function r(t,n){var e=a(t,n);return i(e)?e:void 0}var i=e(36),a=e(40);t.exports=r},function(t,n,e){function r(t){return!(!o(t)||a(t))&&(i(t)?p:h).test(s(t))}var i=e(13),a=e(37),o=e(1),s=e(39),f=/[\\^$.*+?()[\]{}|]/g,h=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,g=l.hasOwnProperty,p=RegExp("^"+c.call(g).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,n,e){function r(t){return!!a&&a in t}var i=e(38),a=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,n,e){var r=e(7),i=r["__core-js_shared__"];t.exports=i},function(t,n){function e(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;t.exports=e},function(t,n){function e(t,n){return null==t?void 0:t[n]}t.exports=e},function(t,n,e){function r(t){return i(function(n,e){var r=-1,i=e.length,o=i>1?e[i-1]:void 0,s=i>2?e[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,s&&a(e[0],e[1],s)&&(o=i<3?void 0:o,i=1),n=Object(n);++r<i;){var f=e[r];f&&t(n,f,r,o)}return n})}var i=e(42),a=e(49);t.exports=r},function(t,n,e){function r(t,n){return o(a(t,n,i),t+"")}var i=e(2),a=e(43),o=e(45);t.exports=r},function(t,n,e){function r(t,n,e){return n=a(void 0===n?t.length-1:n,0),function(){for(var r=arguments,o=-1,s=a(r.length-n,0),f=Array(s);++o<s;)f[o]=r[n+o];o=-1;for(var h=Array(n+1);++o<n;)h[o]=r[o];return h[n]=e(f),i(t,this,h)}}var i=e(44),a=Math.max;t.exports=r},function(t,n){function e(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}t.exports=e},function(t,n,e){var r=e(46),i=e(48),a=i(r);t.exports=a},function(t,n,e){var r=e(47),i=e(12),a=e(2),o=i?function(t,n){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(n),writable:!0})}:a;t.exports=o},function(t,n){function e(t){return function(){return t}}t.exports=e},function(t,n){function e(t){var n=0,e=0;return function(){var o=a(),s=i-(o-e);if(e=o,s>0){if(++n>=r)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}var r=800,i=16,a=Date.now;t.exports=e},function(t,n,e){function r(t,n,e){if(!s(e))return!1;var r=typeof n;return!!("number"==r?a(e)&&o(n,e.length):"string"==r&&n in e)&&i(e[n],t)}var i=e(14),a=e(5),o=e(16),s=e(1);t.exports=r},function(t,n,e){function r(t){return o(t)?i(t,!0):a(t)}var i=e(17),a=e(58),o=e(5);t.exports=r},function(t,n){function e(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}t.exports=e},function(t,n,e){(function(t){var r=e(7),i=e(53),a="object"==typeof n&&n&&!n.nodeType&&n,o=a&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===a,f=s?r.Buffer:void 0,h=f?f.isBuffer:void 0,u=h||i;t.exports=u}).call(n,e(18)(t))},function(t,n){function e(){return!1}t.exports=e},function(t,n,e){var r=e(55),i=e(56),a=e(57),o=a&&a.isTypedArray,s=o?i(o):r;t.exports=s},function(t,n,e){function r(t){return o(t)&&a(t.length)&&!!s[i(t)]}var i=e(3),a=e(15),o=e(4),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=r},function(t,n){function e(t){return function(n){return t(n)}}t.exports=e},function(t,n,e){(function(t){var r=e(9),i="object"==typeof n&&n&&!n.nodeType&&n,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o&&r.process,f=function(){try{return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=f}).call(n,e(18)(t))},function(t,n,e){function r(t){if(!i(t))return o(t);var n=a(t),e=[];for(var r in t)("constructor"!=r||!n&&f.call(t,r))&&e.push(r);return e}var i=e(1),a=e(19),o=e(59),s=Object.prototype,f=s.hasOwnProperty;t.exports=r},function(t,n){function e(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}t.exports=e},function(t,n,e){function r(t,n){return(s(t)?i:a)(t,o(n))}var i=e(61),a=e(62),o=e(71),s=e(0);t.exports=r},function(t,n){function e(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}t.exports=e},function(t,n,e){var r=e(63),i=e(70),a=i(r);t.exports=a},function(t,n,e){function r(t,n){return t&&i(t,n,a)}var i=e(64),a=e(66);t.exports=r},function(t,n,e){var r=e(65),i=r();t.exports=i},function(t,n){function e(t){return function(n,e,r){for(var i=-1,a=Object(n),o=r(n),s=o.length;s--;){var f=o[t?s:++i];if(!1===e(a[f],f,a))break}return n}}t.exports=e},function(t,n,e){function r(t){return o(t)?i(t):a(t)}var i=e(17),a=e(67),o=e(5);t.exports=r},function(t,n,e){function r(t){if(!i(t))return a(t);var n=[];for(var e in Object(t))s.call(t,e)&&"constructor"!=e&&n.push(e);return n}var i=e(19),a=e(68),o=Object.prototype,s=o.hasOwnProperty;t.exports=r},function(t,n,e){var r=e(69),i=r(Object.keys,Object);t.exports=i},function(t,n){function e(t,n){return function(e){return t(n(e))}}t.exports=e},function(t,n,e){function r(t,n){return function(e,r){if(null==e)return e;if(!i(e))return t(e,r);for(var a=e.length,o=n?a:-1,s=Object(e);(n?o--:++o<a)&&!1!==r(s[o],o,s););return e}}var i=e(5);t.exports=r},function(t,n,e){function r(t){return"function"==typeof t?t:i}var i=e(2);t.exports=r},function(t,n,e){function r(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var s=null==e?0:a(e);return s<0&&(s=o(r+s,0)),i(t,n,s)}var i=e(73),a=e(77),o=Math.max;t.exports=r},function(t,n,e){function r(t,n,e){return n===n?o(t,n,e):i(t,a,e)}var i=e(74),a=e(75),o=e(76);t.exports=r},function(t,n){function e(t,n,e,r){for(var i=t.length,a=e+(r?1:-1);r?a--:++a<i;)if(n(t[a],a,t))return a;return-1}t.exports=e},function(t,n){function e(t){return t!==t}t.exports=e},function(t,n){function e(t,n,e){for(var r=e-1,i=t.length;++r<i;)if(t[r]===n)return r;return-1}t.exports=e},function(t,n,e){function r(t){var n=i(t),e=n%1;return n===n?e?n-e:n:0}var i=e(78);t.exports=r},function(t,n,e){function r(t){if(!t)return 0===t?t:0;if((t=i(t))===a||t===-a){return(t<0?-1:1)*o}return t===t?t:0}var i=e(79),a=1/0,o=1.7976931348623157e308;t.exports=r},function(t,n,e){function r(t){if("number"==typeof t)return t;if(a(t))return o;if(i(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=i(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var e=h.test(t);return e||u.test(t)?l(t.slice(2),e?2:8):f.test(t)?o:+t}var i=e(1),a=e(20),o=NaN,s=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=r},function(t,n,e){function r(t){return t&&t.length?i(t,o,a):void 0}var i=e(21),a=e(81),o=e(2);t.exports=r},function(t,n){function e(t,n){return t>n}t.exports=e},function(t,n,e){function r(t){return t&&t.length?i(t,o,a):void 0}var i=e(21),a=e(83),o=e(2);t.exports=r},function(t,n){function e(t,n){return t<n}t.exports=e},function(t,n,e){"use strict";function r(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}r.Diff,r.prototype.diff_main=function(t,n,e,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=r;if(null==t||null==n)throw new Error("Null input. (diff_main)");if(t==n)return t?[[0,t]]:[];void 0===e&&(e=!0);var a=e,o=this.diff_commonPrefix(t,n),s=t.substring(0,o);t=t.substring(o),n=n.substring(o),o=this.diff_commonSuffix(t,n);var f=t.substring(t.length-o);t=t.substring(0,t.length-o),n=n.substring(0,n.length-o);var h=this.diff_compute_(t,n,a,i);return s&&h.unshift([0,s]),f&&h.push([0,f]),this.diff_cleanupMerge(h),h},r.prototype.diff_compute_=function(t,n,e,r){var i;if(!t)return[[1,n]];if(!n)return[[-1,t]];var a=t.length>n.length?t:n,o=t.length>n.length?n:t,s=a.indexOf(o);if(-1!=s)return i=[[1,a.substring(0,s)],[0,o],[1,a.substring(s+o.length)]],t.length>n.length&&(i[0][0]=i[2][0]=-1),i;if(1==o.length)return[[-1,t],[1,n]];var f=this.diff_halfMatch_(t,n);if(f){var h=f[0],u=f[1],l=f[2],c=f[3],g=f[4],p=this.diff_main(h,l,e,r),d=this.diff_main(u,c,e,r);return p.concat([[0,g]],d)}return e&&t.length>100&&n.length>100?this.diff_lineMode_(t,n,r):this.diff_bisect_(t,n,r)},r.prototype.diff_lineMode_=function(t,n,e){var r=this.diff_linesToChars_(t,n);t=r.chars1,n=r.chars2;var i=r.lineArray,a=this.diff_main(t,n,!1,e);this.diff_charsToLines_(a,i),this.diff_cleanupSemantic(a),a.push([0,""]);for(var o=0,s=0,f=0,h="",u="";o<a.length;){switch(a[o][0]){case 1:f++,u+=a[o][1];break;case-1:s++,h+=a[o][1];break;case 0:if(s>=1&&f>=1){a.splice(o-s-f,s+f),o=o-s-f;for(var r=this.diff_main(h,u,!1,e),l=r.length-1;l>=0;l--)a.splice(o,0,r[l]);o+=r.length}f=0,s=0,h="",u=""}o++}return a.pop(),a},r.prototype.diff_bisect_=function(t,n,e){for(var r=t.length,i=n.length,a=Math.ceil((r+i)/2),o=a,s=2*a,f=new Array(s),h=new Array(s),u=0;u<s;u++)f[u]=-1,h[u]=-1;f[o+1]=0,h[o+1]=0;for(var l=r-i,c=l%2!=0,g=0,p=0,d=0,v=0,b=0;b<a&&!((new Date).getTime()>e);b++){for(var y=-b+g;y<=b-p;y+=2){var _,x=o+y;_=y==-b||y!=b&&f[x-1]<f[x+1]?f[x+1]:f[x-1]+1;for(var m=_-y;_<r&&m<i&&t.charAt(_)==n.charAt(m);)_++,m++;if(f[x]=_,_>r)p+=2;else if(m>i)g+=2;else if(c){var j=o+l-y;if(j>=0&&j<s&&-1!=h[j]){var w=r-h[j];if(_>=w)return this.diff_bisectSplit_(t,n,_,m,e)}}}for(var M=-b+d;M<=b-v;M+=2){var w,j=o+M;w=M==-b||M!=b&&h[j-1]<h[j+1]?h[j+1]:h[j-1]+1;for(var O=w-M;w<r&&O<i&&t.charAt(r-w-1)==n.charAt(i-O-1);)w++,O++;if(h[j]=w,w>r)v+=2;else if(O>i)d+=2;else if(!c){var x=o+l-M;if(x>=0&&x<s&&-1!=f[x]){var _=f[x],m=o+_-x;if(w=r-w,_>=w)return this.diff_bisectSplit_(t,n,_,m,e)}}}}return[[-1,t],[1,n]]},r.prototype.diff_bisectSplit_=function(t,n,e,r,i){var a=t.substring(0,e),o=n.substring(0,r),s=t.substring(e),f=n.substring(r),h=this.diff_main(a,o,!1,i),u=this.diff_main(s,f,!1,i);return h.concat(u)},r.prototype.diff_linesToChars_=function(t,n){function e(t){for(var n="",e=0,a=-1,o=r.length;a<t.length-1;){a=t.indexOf("\n",e),-1==a&&(a=t.length-1);var s=t.substring(e,a+1);e=a+1,(i.hasOwnProperty?i.hasOwnProperty(s):void 0!==i[s])?n+=String.fromCharCode(i[s]):(n+=String.fromCharCode(o),i[s]=o,r[o++]=s)}return n}var r=[],i={};return r[0]="",{chars1:e(t),chars2:e(n),lineArray:r}},r.prototype.diff_charsToLines_=function(t,n){for(var e=0;e<t.length;e++){for(var r=t[e][1],i=[],a=0;a<r.length;a++)i[a]=n[r.charCodeAt(a)];t[e][1]=i.join("")}},r.prototype.diff_commonPrefix=function(t,n){if(!t||!n||t.charAt(0)!=n.charAt(0))return 0;for(var e=0,r=Math.min(t.length,n.length),i=r,a=0;e<i;)t.substring(a,i)==n.substring(a,i)?(e=i,a=e):r=i,i=Math.floor((r-e)/2+e);return i},r.prototype.diff_commonSuffix=function(t,n){if(!t||!n||t.charAt(t.length-1)!=n.charAt(n.length-1))return 0;for(var e=0,r=Math.min(t.length,n.length),i=r,a=0;e<i;)t.substring(t.length-i,t.length-a)==n.substring(n.length-i,n.length-a)?(e=i,a=e):r=i,i=Math.floor((r-e)/2+e);return i},r.prototype.diff_commonOverlap_=function(t,n){var e=t.length,r=n.length;if(0==e||0==r)return 0;e>r?t=t.substring(e-r):e<r&&(n=n.substring(0,e));var i=Math.min(e,r);if(t==n)return i;for(var a=0,o=1;;){var s=t.substring(i-o),f=n.indexOf(s);if(-1==f)return a;o+=f,0!=f&&t.substring(i-o)!=n.substring(0,o)||(a=o,o++)}},r.prototype.diff_halfMatch_=function(t,n){function e(t,n,e){for(var r,i,a,s,f=t.substring(e,e+Math.floor(t.length/4)),h=-1,u="";-1!=(h=n.indexOf(f,h+1));){var l=o.diff_commonPrefix(t.substring(e),n.substring(h)),c=o.diff_commonSuffix(t.substring(0,e),n.substring(0,h));u.length<c+l&&(u=n.substring(h-c,h)+n.substring(h,h+l),r=t.substring(0,e-c),i=t.substring(e+l),a=n.substring(0,h-c),s=n.substring(h+l))}return 2*u.length>=t.length?[r,i,a,s,u]:null}if(this.Diff_Timeout<=0)return null;var r=t.length>n.length?t:n,i=t.length>n.length?n:t;if(r.length<4||2*i.length<r.length)return null;var a,o=this,s=e(r,i,Math.ceil(r.length/4)),f=e(r,i,Math.ceil(r.length/2));if(!s&&!f)return null;a=f?s&&s[4].length>f[4].length?s:f:s;var h,u,l,c;return t.length>n.length?(h=a[0],u=a[1],l=a[2],c=a[3]):(l=a[0],c=a[1],h=a[2],u=a[3]),[h,u,l,c,a[4]]},r.prototype.diff_cleanupSemantic=function(t){for(var n=!1,e=[],r=0,i=null,a=0,o=0,s=0,f=0,h=0;a<t.length;)0==t[a][0]?(e[r++]=a,o=f,s=h,f=0,h=0,i=t[a][1]):(1==t[a][0]?f+=t[a][1].length:h+=t[a][1].length,i&&i.length<=Math.max(o,s)&&i.length<=Math.max(f,h)&&(t.splice(e[r-1],0,[-1,i]),t[e[r-1]+1][0]=1,r--,r--,a=r>0?e[r-1]:-1,o=0,s=0,f=0,h=0,i=null,n=!0)),a++;for(n&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),a=1;a<t.length;){if(-1==t[a-1][0]&&1==t[a][0]){var u=t[a-1][1],l=t[a][1],c=this.diff_commonOverlap_(u,l),g=this.diff_commonOverlap_(l,u);c>=g?(c>=u.length/2||c>=l.length/2)&&(t.splice(a,0,[0,l.substring(0,c)]),t[a-1][1]=u.substring(0,u.length-c),t[a+1][1]=l.substring(c),a++):(g>=u.length/2||g>=l.length/2)&&(t.splice(a,0,[0,u.substring(0,g)]),t[a-1][0]=1,t[a-1][1]=l.substring(0,l.length-g),t[a+1][0]=-1,t[a+1][1]=u.substring(g),a++),a++}a++}},r.prototype.diff_cleanupSemanticLossless=function(t){function n(t,n){if(!t||!n)return 6;var e=t.charAt(t.length-1),i=n.charAt(0),a=e.match(r.nonAlphaNumericRegex_),o=i.match(r.nonAlphaNumericRegex_),s=a&&e.match(r.whitespaceRegex_),f=o&&i.match(r.whitespaceRegex_),h=s&&e.match(r.linebreakRegex_),u=f&&i.match(r.linebreakRegex_),l=h&&t.match(r.blanklineEndRegex_),c=u&&n.match(r.blanklineStartRegex_);return l||c?5:h||u?4:a&&!s&&f?3:s||f?2:a||o?1:0}for(var e=1;e<t.length-1;){if(0==t[e-1][0]&&0==t[e+1][0]){var i=t[e-1][1],a=t[e][1],o=t[e+1][1],s=this.diff_commonSuffix(i,a);if(s){var f=a.substring(a.length-s);i=i.substring(0,i.length-s),a=f+a.substring(0,a.length-s),o=f+o}for(var h=i,u=a,l=o,c=n(i,a)+n(a,o);a.charAt(0)===o.charAt(0);){i+=a.charAt(0),a=a.substring(1)+o.charAt(0),o=o.substring(1);var g=n(i,a)+n(a,o);g>=c&&(c=g,h=i,u=a,l=o)}t[e-1][1]!=h&&(h?t[e-1][1]=h:(t.splice(e-1,1),e--),t[e][1]=u,l?t[e+1][1]=l:(t.splice(e+1,1),e--))}e++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\s/,r.linebreakRegex_=/[\r\n]/,r.blanklineEndRegex_=/\n\r?\n$/,r.blanklineStartRegex_=/^\r?\n\r?\n/,r.prototype.diff_cleanupEfficiency=function(t){for(var n=!1,e=[],r=0,i=null,a=0,o=!1,s=!1,f=!1,h=!1;a<t.length;)0==t[a][0]?(t[a][1].length<this.Diff_EditCost&&(f||h)?(e[r++]=a,o=f,s=h,i=t[a][1]):(r=0,i=null),f=h=!1):(-1==t[a][0]?h=!0:f=!0,i&&(o&&s&&f&&h||i.length<this.Diff_EditCost/2&&o+s+f+h==3)&&(t.splice(e[r-1],0,[-1,i]),t[e[r-1]+1][0]=1,r--,i=null,o&&s?(f=h=!0,r=0):(r--,a=r>0?e[r-1]:-1,f=h=!1),n=!0)),a++;n&&this.diff_cleanupMerge(t)},r.prototype.diff_cleanupMerge=function(t){t.push([0,""]);for(var n,e=0,r=0,i=0,a="",o="";e<t.length;)switch(t[e][0]){case 1:i++,o+=t[e][1],e++;break;case-1:r++,a+=t[e][1],e++;break;case 0:r+i>1?(0!==r&&0!==i&&(n=this.diff_commonPrefix(o,a),0!==n&&(e-r-i>0&&0==t[e-r-i-1][0]?t[e-r-i-1][1]+=o.substring(0,n):(t.splice(0,0,[0,o.substring(0,n)]),e++),o=o.substring(n),a=a.substring(n)),0!==(n=this.diff_commonSuffix(o,a))&&(t[e][1]=o.substring(o.length-n)+t[e][1],o=o.substring(0,o.length-n),a=a.substring(0,a.length-n))),0===r?t.splice(e-i,r+i,[1,o]):0===i?t.splice(e-r,r+i,[-1,a]):t.splice(e-r-i,r+i,[-1,a],[1,o]),e=e-r-i+(r?1:0)+(i?1:0)+1):0!==e&&0==t[e-1][0]?(t[e-1][1]+=t[e][1],t.splice(e,1)):e++,i=0,r=0,a="",o=""}""===t[t.length-1][1]&&t.pop();var s=!1;for(e=1;e<t.length-1;)0==t[e-1][0]&&0==t[e+1][0]&&(t[e][1].substring(t[e][1].length-t[e-1][1].length)==t[e-1][1]?(t[e][1]=t[e-1][1]+t[e][1].substring(0,t[e][1].length-t[e-1][1].length),t[e+1][1]=t[e-1][1]+t[e+1][1],t.splice(e-1,1),s=!0):t[e][1].substring(0,t[e+1][1].length)==t[e+1][1]&&(t[e-1][1]+=t[e+1][1],t[e][1]=t[e][1].substring(t[e+1][1].length)+t[e+1][1],t.splice(e+1,1),s=!0)),e++;s&&this.diff_cleanupMerge(t)},r.prototype.diff_xIndex=function(t,n){var e,r=0,i=0,a=0,o=0;for(e=0;e<t.length&&(1!==t[e][0]&&(r+=t[e][1].length),-1!==t[e][0]&&(i+=t[e][1].length),!(r>n));e++)a=r,o=i;return t.length!=e&&-1===t[e][0]?o:o+(n-a)},r.prototype.diff_prettyHtml=function(t){for(var n=[],e=/&/g,r=/</g,i=/>/g,a=/\n/g,o=0;o<t.length;o++){var s=t[o][0],f=t[o][1],h=f.replace(e,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(a,"&para;<br>");switch(s){case 1:n[o]='<ins style="background:#e6ffe6;">'+h+"</ins>";break;case-1:n[o]='<del style="background:#ffe6e6;">'+h+"</del>";break;case 0:n[o]="<span>"+h+"</span>"}}return n.join("")},r.prototype.diff_text1=function(t){for(var n=[],e=0;e<t.length;e++)1!==t[e][0]&&(n[e]=t[e][1]);return n.join("")},r.prototype.diff_text2=function(t){for(var n=[],e=0;e<t.length;e++)-1!==t[e][0]&&(n[e]=t[e][1]);return n.join("")},r.prototype.diff_levenshtein=function(t){for(var n=0,e=0,r=0,i=0;i<t.length;i++){var a=t[i][0],o=t[i][1];switch(a){case 1:e+=o.length;break;case-1:r+=o.length;break;case 0:n+=Math.max(e,r),e=0,r=0}}return n+=Math.max(e,r)},r.prototype.diff_toDelta=function(t){for(var n=[],e=0;e<t.length;e++)switch(t[e][0]){case 1:n[e]="+"+encodeURI(t[e][1]);break;case-1:n[e]="-"+t[e][1].length;break;case 0:n[e]="="+t[e][1].length}return n.join("\t").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(t,n){for(var e=[],r=0,i=0,a=n.split(/\t/g),o=0;o<a.length;o++){var s=a[o].substring(1);switch(a[o].charAt(0)){case"+":try{e[r++]=[1,decodeURI(s)]}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+s)}break;case"-":case"=":var f=parseInt(s,10);if(isNaN(f)||f<0)throw new Error("Invalid number in diff_fromDelta: "+s);var h=t.substring(i,i+=f);"="==a[o].charAt(0)?e[r++]=[0,h]:e[r++]=[-1,h];break;default:if(a[o])throw new Error("Invalid diff operation in diff_fromDelta: "+a[o])}}if(i!=t.length)throw new Error("Delta length ("+i+") does not equal source text length ("+t.length+").");return e},r.prototype.match_main=function(t,n,e){if(null==t||null==n||null==e)throw new Error("Null input. (match_main)");return e=Math.max(0,Math.min(e,t.length)),t==n?0:t.length?t.substring(e,e+n.length)==n?e:this.match_bitap_(t,n,e):-1},r.prototype.match_bitap_=function(t,n,e){function r(t,r){var i=t/n.length,o=Math.abs(e-r);return a.Match_Distance?i+o/a.Match_Distance:o?1:i}if(n.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(n),a=this,o=this.Match_Threshold,s=t.indexOf(n,e);-1!=s&&(o=Math.min(r(0,s),o),-1!=(s=t.lastIndexOf(n,e+n.length))&&(o=Math.min(r(0,s),o)));var f=1<<n.length-1;s=-1;for(var h,u,l,c=n.length+t.length,g=0;g<n.length;g++){for(h=0,u=c;h<u;)r(g,e+u)<=o?h=u:c=u,u=Math.floor((c-h)/2+h);c=u;var p=Math.max(1,e-u+1),d=Math.min(e+u,t.length)+n.length,v=Array(d+2);v[d+1]=(1<<g)-1;for(var b=d;b>=p;b--){var y=i[t.charAt(b-1)];if(v[b]=0===g?(v[b+1]<<1|1)&y:(v[b+1]<<1|1)&y|(l[b+1]|l[b])<<1|1|l[b+1],v[b]&f){var _=r(g,b-1);if(_<=o){if(o=_,!((s=b-1)>e))break;p=Math.max(1,2*e-s)}}}if(r(g+1,e)>o)break;l=v}return s},r.prototype.match_alphabet_=function(t){for(var n={},e=0;e<t.length;e++)n[t.charAt(e)]=0;for(var e=0;e<t.length;e++)n[t.charAt(e)]|=1<<t.length-e-1;return n},r.prototype.patch_addContext_=function(t,n){if(0!=n.length){for(var e=n.substring(t.start2,t.start2+t.length1),r=0;n.indexOf(e)!=n.lastIndexOf(e)&&e.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,e=n.substring(t.start2-r,t.start2+t.length1+r);r+=this.Patch_Margin;var i=n.substring(t.start2-r,t.start2);i&&t.diffs.unshift([0,i]);var a=n.substring(t.start2+t.length1,t.start2+t.length1+r);a&&t.diffs.push([0,a]),t.start1-=i.length,t.start2-=i.length,t.length1+=i.length+a.length,t.length2+=i.length+a.length}},r.prototype.patch_make=function(t,n,e){var i,a;if("string"==typeof t&&"string"==typeof n&&void 0===e)i=t,a=this.diff_main(i,n,!0),a.length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(t&&"object"==typeof t&&void 0===n&&void 0===e)a=t,i=this.diff_text1(a);else if("string"==typeof t&&n&&"object"==typeof n&&void 0===e)i=t,a=n;else{if("string"!=typeof t||"string"!=typeof n||!e||"object"!=typeof e)throw new Error("Unknown call format to patch_make.");i=t,a=e}if(0===a.length)return[];for(var o=[],s=new r.patch_obj,f=0,h=0,u=0,l=i,c=i,g=0;g<a.length;g++){var p=a[g][0],d=a[g][1];switch(f||0===p||(s.start1=h,s.start2=u),p){case 1:s.diffs[f++]=a[g],s.length2+=d.length,c=c.substring(0,u)+d+c.substring(u);break;case-1:s.length1+=d.length,s.diffs[f++]=a[g],c=c.substring(0,u)+c.substring(u+d.length);break;case 0:d.length<=2*this.Patch_Margin&&f&&a.length!=g+1?(s.diffs[f++]=a[g],s.length1+=d.length,s.length2+=d.length):d.length>=2*this.Patch_Margin&&f&&(this.patch_addContext_(s,l),o.push(s),s=new r.patch_obj,f=0,l=c,h=u)}1!==p&&(h+=d.length),-1!==p&&(u+=d.length)}return f&&(this.patch_addContext_(s,l),o.push(s)),o},r.prototype.patch_deepCopy=function(t){for(var n=[],e=0;e<t.length;e++){var i=t[e],a=new r.patch_obj;a.diffs=[];for(var o=0;o<i.diffs.length;o++)a.diffs[o]=i.diffs[o].slice();a.start1=i.start1,a.start2=i.start2,a.length1=i.length1,a.length2=i.length2,n[e]=a}return n},r.prototype.patch_apply=function(t,n){if(0==t.length)return[n,[]];t=this.patch_deepCopy(t);var e=this.patch_addPadding(t);n=e+n+e,this.patch_splitMax(t);for(var r=0,i=[],a=0;a<t.length;a++){var o,s=t[a].start2+r,f=this.diff_text1(t[a].diffs),h=-1;if(f.length>this.Match_MaxBits?-1!=(o=this.match_main(n,f.substring(0,this.Match_MaxBits),s))&&(-1==(h=this.match_main(n,f.substring(f.length-this.Match_MaxBits),s+f.length-this.Match_MaxBits))||o>=h)&&(o=-1):o=this.match_main(n,f,s),-1==o)i[a]=!1,r-=t[a].length2-t[a].length1;else{i[a]=!0,r=o-s;var u;if(u=-1==h?n.substring(o,o+f.length):n.substring(o,h+this.Match_MaxBits),f==u)n=n.substring(0,o)+this.diff_text2(t[a].diffs)+n.substring(o+f.length);else{var l=this.diff_main(f,u,!1);if(f.length>this.Match_MaxBits&&this.diff_levenshtein(l)/f.length>this.Patch_DeleteThreshold)i[a]=!1;else{this.diff_cleanupSemanticLossless(l);for(var c,g=0,p=0;p<t[a].diffs.length;p++){var d=t[a].diffs[p];0!==d[0]&&(c=this.diff_xIndex(l,g)),1===d[0]?n=n.substring(0,o+c)+d[1]+n.substring(o+c):-1===d[0]&&(n=n.substring(0,o+c)+n.substring(o+this.diff_xIndex(l,g+d[1].length))),-1!==d[0]&&(g+=d[1].length)}}}}}return n=n.substring(e.length,n.length-e.length),[n,i]},r.prototype.patch_addPadding=function(t){for(var n=this.Patch_Margin,e="",r=1;r<=n;r++)e+=String.fromCharCode(r);for(var r=0;r<t.length;r++)t[r].start1+=n,t[r].start2+=n;var i=t[0],a=i.diffs;if(0==a.length||0!=a[0][0])a.unshift([0,e]),i.start1-=n,i.start2-=n,i.length1+=n,i.length2+=n;else if(n>a[0][1].length){var o=n-a[0][1].length;a[0][1]=e.substring(a[0][1].length)+a[0][1],i.start1-=o,i.start2-=o,i.length1+=o,i.length2+=o}if(i=t[t.length-1],a=i.diffs,0==a.length||0!=a[a.length-1][0])a.push([0,e]),i.length1+=n,i.length2+=n;else if(n>a[a.length-1][1].length){var o=n-a[a.length-1][1].length;a[a.length-1][1]+=e.substring(0,o),i.length1+=o,i.length2+=o}return e},r.prototype.patch_splitMax=function(t){for(var n=this.Match_MaxBits,e=0;e<t.length;e++)if(!(t[e].length1<=n)){var i=t[e];t.splice(e--,1);for(var a=i.start1,o=i.start2,s="";0!==i.diffs.length;){var f=new r.patch_obj,h=!0;for(f.start1=a-s.length,f.start2=o-s.length,""!==s&&(f.length1=f.length2=s.length,f.diffs.push([0,s]));0!==i.diffs.length&&f.length1<n-this.Patch_Margin;){var u=i.diffs[0][0],l=i.diffs[0][1];1===u?(f.length2+=l.length,o+=l.length,f.diffs.push(i.diffs.shift()),h=!1):-1===u&&1==f.diffs.length&&0==f.diffs[0][0]&&l.length>2*n?(f.length1+=l.length,a+=l.length,h=!1,f.diffs.push([u,l]),i.diffs.shift()):(l=l.substring(0,n-f.length1-this.Patch_Margin),f.length1+=l.length,a+=l.length,0===u?(f.length2+=l.length,o+=l.length):h=!1,f.diffs.push([u,l]),l==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(l.length))}s=this.diff_text2(f.diffs),s=s.substring(s.length-this.Patch_Margin);var c=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==c&&(f.length1+=c.length,f.length2+=c.length,0!==f.diffs.length&&0===f.diffs[f.diffs.length-1][0]?f.diffs[f.diffs.length-1][1]+=c:f.diffs.push([0,c])),h||t.splice(++e,0,f)}}},r.prototype.patch_toText=function(t){for(var n=[],e=0;e<t.length;e++)n[e]=t[e];return n.join("")},r.prototype.patch_fromText=function(t){var n=[];if(!t)return n;for(var e=t.split("\n"),i=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<e.length;){var o=e[i].match(a);if(!o)throw new Error("Invalid patch string: "+e[i]);var s=new r.patch_obj;for(n.push(s),s.start1=parseInt(o[1],10),""===o[2]?(s.start1--,s.length1=1):"0"==o[2]?s.length1=0:(s.start1--,s.length1=parseInt(o[2],10)),s.start2=parseInt(o[3],10),""===o[4]?(s.start2--,s.length2=1):"0"==o[4]?s.length2=0:(s.start2--,s.length2=parseInt(o[4],10)),i++;i<e.length;){var f=e[i].charAt(0);try{var h=decodeURI(e[i].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+h)}if("-"==f)s.diffs.push([-1,h]);else if("+"==f)s.diffs.push([1,h]);else if(" "==f)s.diffs.push([0,h]);else{if("@"==f)break;if(""!==f)throw new Error('Invalid patch mode "'+f+'" in: '+h)}i++}}return n},r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},r.patch_obj.prototype.toString=function(){var t,n;t=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,n=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var e,r=["@@ -"+t+" +"+n+" @@\n"],i=0;i<this.diffs.length;i++){switch(this.diffs[i][0]){case 1:e="+";break;case-1:e="-";break;case 0:e=" "}r[i+1]=e+encodeURI(this.diffs[i][1])+"\n"}return r.join("").replace(/%20/g," ")},t.exports=r,t.exports.diff_match_patch=r,t.exports.DIFF_DELETE=-1,t.exports.DIFF_INSERT=1,t.exports.DIFF_EQUAL=0},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){Array.prototype.equals&&console.warn("Overriding existing Array.prototype.equals. Possible causes: New API defines the method, there's a framework conflict or you've got double inclusions in your code."),Array.prototype.equals=function(t){if(!t)return!1;if(this.length!=t.length)return!1;for(var n=0,e=this.length;n<e;n++)if(this[n]instanceof Array&&t[n]instanceof Array){if(!this[n].equals(t[n]))return!1}else if(this[n]!=t[n])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1})};n.default={enableArrayEquals:r}}])});
//# sourceMappingURL=../source-map/index.source.map